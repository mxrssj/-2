<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
		<title></title>
		<link rel="stylesheet" type="text/css" href="css/shopcar.css"/>
	</head>
	<body>
		<div id="box">
		<header>
			<div >
				<div v-on:click="jump()">
					<img src="images/shopcar/left.png"/>
				</div>
				<h2>购物车({{sumCount}})</h2>
			</div>
		</header>
		
			
		
		<main>
			<div v-for="(item,index) in ary">
				
		
			<div class="dianpu">
				<div class="dianpu_0"></div>
				<div class="dianpu_1">
					<div class="dianpu_photo1">
						<img src="images/shopcar/s_pu.png"/>
					</div>
					<h2>十八里{{item.category}}</h2>
					<div class="dianpu_photo2">
						<img src="images/shopcar/right.png"/>
					</div>
				</div>
			</div>
			
			<div class="sp">
				<div class="cb">
					<input type="checkbox"  v-model="item.bool" />
				</div>
				
				<div class="sp_1">
					<img :src="item.img" />
				</div>
				
				<div class="message">
					<div class="mg_p1">
						<p>{{item.title}}</p>
					</div>
					
					<div class="yanse">
						<p>典雅黑[黑色12cm]；39</p>
						<div class="y_s">
							<img src="images/shopcar/xia.png"/>
						</div>
					</div>
					
					<div class="price">
						<p>￥{{item.price}}</p>
						<div>
							<button @click="jian(item,index)">-</button>
							<input type="number" v-model="item.num"  min="1" />
							<button @click="jia(item)">+</button>
						</div>
						
					</div>
					
				</div>
			</div>
			
			</div>	
			
			
			
			
			
			<div class="cnxh">
				
				<div class="ax">
					<div class="xian1">
						<img src="images/index/hengxian1.png"/>
					</div>
					<h2>你可能还喜欢</h2>
					<div class="xian2">
						<img src="images/index/hengxian1.png"/>
					</div>
				</div>
				
				<div class="cnxh_content">
					
					<div class="shangpin1">
						<div class="sp1">
							<img src="images/shopcar/sp_1.png"/>
						</div>
						<div class="sp1_content">
							<div class="jieshao1">
								<p>2017夏季结婚鞋浅口女式单鞋中高跟细跟蝴蝶结…</p>
							</div>
							<div class="sp1_old_prich">
								<div>
									<span>淘宝价￥：99</span>
								</div>	
								<div>
									<em>月销2348</em>
								</div>
							</div>
							<div class="sp1_new_prich">
								<div>
									<p>￥49</p>
								</div>
								<div class="old_button">
									<img src="images/index/button.png"/>
								</div>
							</div>
						</div>
					</div>
					
					<div class="shangpin1 shangpin2">
						<div class="sp1">
							<img src="images/shopcar/sp_2.png"/>
						</div>
						<div class="sp1_content">
							<div class="jieshao1 jieshao2">
								<p>黑色职业高跟女单鞋防水台粗跟真皮工作鞋…</p>
							</div>
							<div class="sp1_old_prich">
								<div>
									<span>天猫价￥：99</span>
								</div>	
								<div>
									<em>月销3297</em>
								</div>
							</div>
							<div class="sp1_new_prich">
								<div>
									<p>￥49</p>
								</div>
								<div class="old_button">
									<img src="images/index/button.png"/>
								</div>
							</div>
						</div>
					</div>
					
					
					<div class="shangpin1">
						<div class="sp1">
							<img src="images/shopcar/sp_3.png"/>
						</div>
						<div class="sp1_content">
							<div class="jieshao1">
								<p>专柜正品春秋款正品纯桑蚕丝真品长丝巾…</p>
							</div>
							<div class="sp1_old_prich">
								<div>
									<span>淘宝价￥：99</span>
								</div>	
								<div>
									<em>月销2348</em>
								</div>
							</div>
							<div class="sp1_new_prich">
								<div>
									<p>￥49</p>
								</div>
								<div class="old_button">
									<img src="images/index/button.png"/>
								</div>
							</div>
						</div>
					</div>
					
					<div class="shangpin1 shangpin2 ">
						<div class="sp1">
							<img src="images/shopcar/sp_4.png"/>
						</div>
						<div class="sp1_content">
							<div class="jieshao1 jieshao2">
								<p>2018新款女式衬衫女式衬衣白色修身…</p>
							</div>
							<div class="sp1_old_prich">
								<div>
									<span>天猫价￥：99</span>
								</div>	
								<div>
									<em>月销3297</em>
								</div>
							</div>
							<div class="sp1_new_prich">
								<div>
									<p>￥49</p>
								</div>
								<div class="old_button">
									<img src="images/index/button.png"/>
								</div>
							</div>
						</div>
					</div>
					
					
					
					<div class="shangpin1">
						<div class="sp1">
							<img src="images/shopcar/sp_5.png"/>
						</div>
						<div class="sp1_content">
							<div class="jieshao1">
								<p>45*45靠垫芯50*50抱垫芯5*55汽车沙发…</p>
							</div>
							<div class="sp1_old_prich">
								<div>
									<span>淘宝价￥：99</span>
								</div>	
								<div>
									<em>月销2348</em>
								</div>
							</div>
							<div class="sp1_new_prich">
								<div>
									<p>￥49</p>
								</div>
								<div class="old_button">
									<img src="images/index/button.png"/>
								</div>
							</div>
						</div>
					</div>
					
					<div class="shangpin1 shangpin2 ">
						<div class="sp1">
							<img src="images/shopcar/sp_6.png"/>
						</div>
						<div class="sp1_content">
							<div class="jieshao1 jieshao2">
								<p>女装短袖女2018新款夏装存棉 黑色半袖t桖…</p>
							</div>
							<div class="sp1_old_prich">
								<div>
									<span>天猫价￥：99</span>
								</div>	
								<div>
									<em>月销3297</em>
								</div>
							</div>
							<div class="sp1_new_prich">
								<div>
									<p>￥49</p>
								</div>
								<div class="old_button">
									<img src="images/index/button.png"/>
								</div>
							</div>
						</div>
					</div>
					
					<div class="shangpin1">
						<div class="sp1">
							<img src="images/shopcar/sp_7.png"/>
						</div>
						<div class="sp1_content">
							<div class="jieshao1">
								<p>短袖t桖女2018年新款韩版宽松大码夏季半袖学…</p>
							</div>
							<div class="sp1_old_prich">
								<div>
									<span>淘宝价￥：99</span>
								</div>	
								<div>
									<em>月销2348</em>
								</div>
							</div>
							<div class="sp1_new_prich">
								<div>
									<p>￥49</p>
								</div>
								<div class="old_button">
									<img src="images/index/button.png"/>
								</div>
							</div>
						</div>
					</div>
					
					<div class="shangpin1 shangpin2 ">
						<div class="sp1">
							<img src="images/shopcar/sp_8.png"/>
						</div>
						<div class="sp1_content">
							<div class="jieshao1 jieshao2">
								<p>女装短袖女2018新款夏装存棉 黑色半袖t桖…</p>
							</div>
							<div class="sp1_old_prich">
								<div>
									<span>天猫价￥：99</span>
								</div>	
								<div>
									<em>月销3297</em>
								</div>
							</div>
							<div class="sp1_new_prich">
								<div>
									<p>￥49</p>
								</div>
								<div class="old_button">
									<img src="images/index/button.png"/>
								</div>
							</div>
						</div>
					</div>
					
					<div class="shangpin1">
						<div class="sp1">
							<img src="images/shopcar/sp_9.png"/>
						</div>
						<div class="sp1_content">
							<div class="jieshao1">
								<p>女式短袖超凉快2018新款韩版百搭女式上衣…</p>
							</div>
							<div class="sp1_old_prich">
								<div>
									<span>淘宝价￥：99</span>
								</div>	
								<div>
									<em>月销2348</em>
								</div>
							</div>
							<div class="sp1_new_prich">
								<div>
									<p>￥49</p>
								</div>
								<div class="old_button">
									<img src="images/index/button.png"/>
								</div>
							</div>
						</div>
					</div>
					
					<div class="shangpin1 shangpin2">
						<div class="sp1">
							<img src="images/shopcar/sp_10.png"/>
						</div>
						<div class="sp1_content">
							<div class="jieshao1 jieshao2">
								<p>ins超火的女式半袖T恤女紫色百搭新款…</p>
							</div>
							<div class="sp1_old_prich">
								<div>
									<span>天猫价￥：99</span>
								</div>	
								<div>
									<em>月销3297</em>
								</div>
							</div>
							<div class="sp1_new_prich">
								<div>
									<p>￥49</p>
								</div>
								<div class="old_button">
									<img src="images/index/button.png"/>
								</div>
							</div>
						</div>
					</div>
				</div>	
			</div>
		</main>
		
		
		
		<div class="f_r">
			<div class="jieshuan">
				<div class="q_x">
					<input type="checkbox" v-model="selectAll" v-on:change="select()" />
					<span>全选</span>
				</div>
				
				<div class="h_j">
					<span>合计：<em>￥{{abc}}</em></span>
				</div>
				
				<div class="j_s">
					<button  @click="next()">结算({{sumCount}})</button>
				</div>
				
			</div>
			
			<footer>
				<a href="index.html"><img src="images/index/home.png"/><p>首页</p></a>
				<a href="news.html"><img src="images/index/news.png"/><p>消息</p></a>
				<a href="huiyuan.html"><img src="images/index/huasheng.png"/><p>超级会员</p></a>
				<a href="shopcar.html"><img src="images/index/shopcar.png"/><p>购物车</p></a>
				<a href="my.html"><img src="images/index/my.png"/><p>我的</p></a>
			</footer>
		</div>
	</div>	
		
		<script src="js/public.js" type="text/javascript" charset="utf-8"></script>
		<script src="vue/dist/vue.js" type="text/javascript" charset="utf-8"></script>
		<script type="text/javascript">
		var app = new Vue({
			el:"#box",
			data:{
				ary:JSON.parse(localStorage.getItem("shopCar")) || [],
			    selectAll:true
			},
			computed:{
				abc(){
					var total = 0;
					for(var i=0;i<this.ary.length;i++){
						if(this.ary[i].bool){
							total += this.ary[i].price*this.ary[i].num
						}
					}
					return total;
				},
				sumCount(){
					var total = 0;
					for(var i=0;i<this.ary.length;i++){
						total += this.ary[i].bool;
					}
					return total;
				}
			},
			methods:{
				jia(item){
					item.num++
				},
				jian(item,index){
					if(item.num <= 1){
						if(confirm("你确定要删除这件商品吗？")){
							this.ary.splice(index,1)
						}
					}else{
						item.num--
					}
				},
				select(){
					for(var i=0;i<this.ary.length;i++){
						if(this.selectAll){
							this.ary[i].bool = true
						}else{
							this.ary[i].bool = false
						}
					}
				},
				next(){
					if(localStorage.getItem("phone")){
						location = "pay.html"
					}else{
						localStorage.setItem("loginJump","pay.html")
						location = "denglu.html"
					}
					
				},
				jump(){
					location = "nvzhuang.html"
				}
			}
		})
		</script>
	</body>
</html>
